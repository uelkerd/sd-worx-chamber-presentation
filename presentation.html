<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SD WORX - Kammerbeitr√§ge Bremen vs. Saarland 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
      integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <style>
      /* Print styles for PDF export */
      @media print {
        body {
          print-color-adjust: exact !important;
          -webkit-print-color-adjust: exact !important;
        }
        .slide {
          page-break-after: always;
          height: 100vh;
          width: 100%;
          display: flex !important;
          align-items: center;
          justify-content: center;
        }
      }

      /* Base styles */
      body {
        background: linear-gradient(to bottom right, #f8fafc, #e0f2fe) !important;
        margin: 0;
        padding: 0;
      }

      /* Gradient backgrounds for cards */
      .bg-gradient-primary {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;
      }

      .bg-gradient-secondary {
        background: linear-gradient(135deg, #0ea5e9, #0369a1) !important;
      }

      .bg-gradient-accent {
        background: linear-gradient(135deg, #8b5cf6, #6d28d9) !important;
      }

      .bg-gradient-success {
        background: linear-gradient(135deg, #10b981, #059669) !important;
      }

      .bg-gradient-purple-red {
        background: linear-gradient(135deg, #8b5cf6, #ec4899) !important;
        color: white !important;
      }

      /* Animation styles */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in-out forwards;
      }

      /* Card hover effects */
      .card {
        transition: all 0.3s ease;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow:
          0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }

      /* Loading animation */
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .animate-spin {
        animation: spin 1s linear infinite;
      }

      /* PDF container styles */
      #pdf-container {
        background-color: #f8fafc;
      }

      #pdf-container .slide {
        min-height: 100vh;
        padding: 2rem;
        box-sizing: border-box;
      }

      /* Slide styles */
      .slide {
        min-height: 100vh;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      }

      .slide.active {
        display: flex;
      }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: '#eff6ff',
                100: '#dbeafe',
                200: '#bfdbfe',
                300: '#93c5fd',
                400: '#60a5fa',
                500: '#3b82f6',
                600: '#2563eb',
                700: '#1d4ed8',
                800: '#1e40af',
                900: '#1e3a8a',
              },
              secondary: {
                50: '#f0f9ff',
                100: '#e0f2fe',
                200: '#bae6fd',
                300: '#7dd3fc',
                400: '#38bdf8',
                500: '#0ea5e9',
                600: '#0284c7',
                700: '#0369a1',
                800: '#075985',
                900: '#0c4a6e',
              },
              accent: {
                50: '#fdf4ff',
                100: '#fae8ff',
                200: '#f5d0fe',
                300: '#f0abfc',
                400: '#e879f9',
                500: '#d946ef',
                600: '#c026d3',
                700: '#a21caf',
                800: '#86198f',
                900: '#701a75',
              },
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen">
    <!-- Navigation -->
    <nav class="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50">
      <div class="bg-white rounded-full shadow-lg px-6 py-3 flex items-center space-x-4">
        <button
          onclick="prevSlide()"
          class="bg-primary-600 text-white rounded-full p-2 hover:bg-primary-700 transition-colors"
        >
          ‚Üê
        </button>
        <div class="flex space-x-2">
          <button
            onclick="goToSlide(0)"
            class="slide-btn w-3 h-3 rounded-full bg-gray-300 hover:bg-primary-600 transition-colors"
          ></button>
          <button
            onclick="goToSlide(1)"
            class="slide-btn w-3 h-3 rounded-full bg-gray-300 hover:bg-primary-600 transition-colors"
          ></button>
          <button
            onclick="goToSlide(2)"
            class="slide-btn w-3 h-3 rounded-full bg-gray-300 hover:bg-primary-600 transition-colors"
          ></button>
          <button
            onclick="goToSlide(3)"
            class="slide-btn w-3 h-3 rounded-full bg-gray-300 hover:bg-primary-600 transition-colors"
          ></button>
          <button
            onclick="goToSlide(4)"
            class="slide-btn w-3 h-3 rounded-full bg-gray-300 hover:bg-primary-600 transition-colors"
          ></button>
          <button
            onclick="goToSlide(5)"
            class="slide-btn w-3 h-3 rounded-full bg-gray-300 hover:bg-primary-600 transition-colors"
          ></button>
          <button
            onclick="goToSlide(6)"
            class="slide-btn w-3 h-3 rounded-full bg-gray-300 hover:bg-primary-600 transition-colors"
          ></button>
        </div>
        <button
          onclick="nextSlide()"
          class="bg-primary-600 text-white rounded-full p-2 hover:bg-primary-700 transition-colors"
        >
          ‚Üí
        </button>
        <button
          onclick="exportPDF()"
          class="bg-accent-600 text-white rounded-full px-4 py-2 hover:bg-accent-700 transition-colors"
        >
          üìÑ PDF
        </button>
      </div>
    </nav>

    <!-- Slide 1: Title -->
    <div
      id="slide-0"
      style="
        display: flex;
        min-height: 100vh;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      "
    >
      <div class="text-center max-w-4xl mx-auto">
        <div class="fade-in">
          <h1 class="text-6xl md:text-8xl font-black text-primary-600 mb-8">Kammerbeitr√§ge</h1>
          <h2 class="text-4xl md:text-6xl font-bold text-secondary-600 mb-12">
            Bremen vs. Saarland 2025
          </h2>
          <div class="bg-white rounded-3xl p-8 shadow-2xl mb-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">Rechtsvergleichende Systemanalyse</h3>
            <p class="text-lg text-gray-600 leading-relaxed">
              Eine detaillierte Analyse der fundamentalen Unterschiede zwischen den
              Kammerbeitragssystemen in Bremen und Saarland f√ºr das Jahr 2025.
            </p>
          </div>
          <div class="text-gray-500 text-sm">
            <p>SD WORX Job Application - Phase 2</p>
            <p>Rechtsstand: 2025</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 2: Executive Summary -->
    <div
      id="slide-1"
      style="
        display: none;
        min-height: 100vh;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      "
    >
      <div class="max-w-6xl mx-auto w-full">
        <div class="fade-in">
          <h1 class="text-5xl font-black text-center text-gray-800 mb-12">Executive Summary</h1>

          <div class="grid md:grid-cols-2 gap-8 mb-8">
            <div class="card bg-white rounded-3xl p-8 shadow-2xl border-l-4 border-primary-500">
              <h3 class="text-2xl font-bold text-primary-600 mb-4">Bremen (Arbeitnehmerkammer)</h3>
              <div class="space-y-3">
                <div class="flex justify-between">
                  <span class="font-semibold">Beitragssatz:</span>
                  <span class="text-primary-600 font-bold">0,12%</span>
                </div>
                <div class="flex justify-between">
                  <span class="font-semibold">Bemessungsgrundlage:</span>
                  <span class="text-primary-600">Steuerpflichtiger Arbeitslohn</span>
                </div>
                <div class="flex justify-between">
                  <span class="font-semibold">BBG:</span>
                  <span class="text-primary-600">Keine Obergrenze</span>
                </div>
                <div class="bg-primary-100 p-4 rounded-lg mt-4">
                  <div class="text-center">
                    <span class="text-2xl font-black text-primary-700">‚Ç¨12,00</span>
                    <p class="text-sm text-primary-600">Monatlicher Beitrag bei ‚Ç¨10.000</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="card bg-white rounded-3xl p-8 shadow-2xl border-l-4 border-secondary-500">
              <h3 class="text-2xl font-bold text-secondary-600 mb-4">Saarland (Arbeitskammer)</h3>
              <div class="space-y-3">
                <div class="flex justify-between">
                  <span class="font-semibold">Beitragssatz:</span>
                  <span class="text-secondary-600 font-bold">0,15%</span>
                </div>
                <div class="flex justify-between">
                  <span class="font-semibold">Bemessungsgrundlage:</span>
                  <span class="text-secondary-600">SV-pflichtiges Bruttoentgelt</span>
                </div>
                <div class="flex justify-between">
                  <span class="font-semibold">BBG:</span>
                  <span class="text-secondary-600">‚Ç¨8.050 (2025)</span>
                </div>
                <div class="bg-secondary-100 p-4 rounded-lg mt-4">
                  <div class="text-center">
                    <span class="text-2xl font-black text-secondary-700">‚Ç¨12,08</span>
                    <p class="text-sm text-secondary-600">Monatlicher Beitrag bei ‚Ç¨10.000</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 3: Calculations -->
    <div
      id="slide-2"
      style="
        display: none;
        min-height: 100vh;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      "
    >
      <div class="max-w-6xl mx-auto w-full">
        <div class="fade-in">
          <h1 class="text-4xl font-black text-center text-gray-800 mb-6">
            Berechnungsdetails & Prozessfluss
          </h1>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Left Column: Calculation Details -->
            <div class="space-y-6">
              <!-- Bremen Calculation -->
              <div class="card bg-white p-6 rounded-xl shadow-lg border-l-4 border-primary-500">
                <h2 class="text-2xl font-bold text-primary-600 mb-3">Bremen - Berechnung</h2>

                <div class="grid grid-cols-2 gap-2 mb-3">
                  <div class="font-medium text-gray-700">Bruttogehalt:</div>
                  <div class="font-bold text-right">‚Ç¨10.000</div>

                  <div class="font-medium text-gray-700">Bemessungsgrundlage:</div>
                  <div class="font-bold text-right text-primary-600">‚Ç¨10.000 (ungek√ºrzt)</div>

                  <div class="font-medium text-gray-700">Beitragssatz:</div>
                  <div class="font-bold text-right">0,12%</div>
                </div>

                <div class="bg-primary-50 p-3 rounded-lg mt-3">
                  <div class="flex justify-between items-center">
                    <span class="font-semibold">Monatlicher Beitrag:</span>
                    <span class="font-bold text-xl text-primary-600">‚Ç¨12,00</span>
                  </div>
                </div>

                <div class="mt-3 text-sm text-gray-600">
                  <strong>Rechtsbasis:</strong> Steuerpflichtiger Arbeitslohn nach LStDV
                </div>
              </div>

              <!-- Saarland Calculation -->
              <div class="card bg-white p-6 rounded-xl shadow-lg border-l-4 border-secondary-500">
                <h2 class="text-2xl font-bold text-secondary-600 mb-3">Saarland - Berechnung</h2>

                <div class="grid grid-cols-2 gap-2 mb-3">
                  <div class="font-medium text-gray-700">Bruttogehalt:</div>
                  <div class="font-bold text-right">‚Ç¨10.000</div>

                  <div class="font-medium text-gray-700">BBG-Pr√ºfung:</div>
                  <div class="font-bold text-right text-amber-600">> ‚Ç¨8.050 ‚Üí gedeckelt</div>

                  <div class="font-medium text-gray-700">Bemessungsgrundlage:</div>
                  <div class="font-bold text-right text-secondary-600">‚Ç¨8.050</div>

                  <div class="font-medium text-gray-700">Beitragssatz:</div>
                  <div class="font-bold text-right">0,15%</div>

                  <div class="font-medium text-gray-700">Vor Rundung:</div>
                  <div class="font-bold text-right">‚Ç¨12,075</div>
                </div>

                <div class="bg-secondary-50 p-3 rounded-lg mt-3">
                  <div class="flex justify-between items-center">
                    <span class="font-semibold">Monatlicher Beitrag:</span>
                    <span class="font-bold text-xl text-secondary-600">‚Ç¨12,08</span>
                  </div>
                </div>

                <div class="mt-3 text-sm text-gray-600">
                  <strong>Rechtsbasis:</strong> SV-pflichtiges Bruttoentgelt nach SGB IV
                </div>
              </div>
            </div>

            <!-- Right Column: Process Flow -->
            <div class="space-y-6">
              <h2 class="text-2xl font-bold text-center text-gray-800">
                Berechnungsfluss im Detail
              </h2>

              <div class="grid grid-cols-2 gap-4">
                <!-- Bremen Process Flow -->
                <div class="space-y-2">
                  <h3 class="text-xl font-bold text-primary-600 text-center">Bremen-Pfad</h3>

                  <div class="bg-white p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">Bruttogehalt: ‚Ç¨10.000</div>
                  </div>

                  <div class="bg-white p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">Steuerpflichtiger Arbeitslohn</div>
                  </div>

                  <div class="bg-white p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">Keine BBG-Pr√ºfung: ‚Ç¨10.000</div>
                  </div>

                  <div class="bg-white p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">‚Ç¨10.000 √ó 0,12%</div>
                  </div>

                  <div class="bg-green-500 p-3 rounded-lg shadow text-center text-white">
                    <div class="font-bold">Ergebnis: ‚Ç¨12,00</div>
                  </div>
                </div>

                <!-- Saarland Process Flow -->
                <div class="space-y-2">
                  <h3 class="text-xl font-bold text-secondary-600 text-center">Saarland-Pfad</h3>

                  <div class="bg-white p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">Bruttogehalt: ‚Ç¨10.000</div>
                  </div>

                  <div class="bg-white p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">SV-pflichtiges Bruttoentgelt</div>
                  </div>

                  <div class="bg-amber-100 p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">BBG-Pr√ºfung: ‚Ç¨10.000 > ‚Ç¨8.050</div>
                  </div>

                  <div class="bg-white p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">Gedeckelt: ‚Ç¨8.050</div>
                  </div>

                  <div class="bg-white p-3 rounded-lg shadow text-center">
                    <div class="font-semibold">‚Ç¨8.050 √ó 0,15% = ‚Ç¨12,075</div>
                  </div>

                  <div class="bg-green-500 p-3 rounded-lg shadow text-center text-white">
                    <div class="font-bold">Ergebnis: ‚Ç¨12,08</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 4: Charts -->
    <div
      id="slide-3"
      style="
        display: none;
        min-height: 100vh;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      "
    >
      <div class="max-w-6xl mx-auto w-full">
        <div class="fade-in">
          <h1 class="text-5xl font-black text-center text-gray-800 mb-8">
            Systemanalyse & Vergleich
          </h1>
          <p class="text-xl text-center text-gray-600 mb-12">
            Entwicklung der Beitr√§ge und effektive Belastung
          </p>

          <div class="grid md:grid-cols-2 gap-8 mb-8">
            <!-- Chart 1: Contribution by Salary -->
            <div class="bg-white p-6 rounded-xl shadow-xl">
              <h3 class="text-xl font-bold mb-4 text-gray-800">
                Kammerbeitr√§ge √ºber verschiedene Gehaltsstufen
              </h3>
              <div class="h-64">
                <canvas id="contributionChart"></canvas>
              </div>
            </div>

            <!-- Chart 2: Effective Rate -->
            <div class="bg-white p-6 rounded-xl shadow-xl">
              <h3 class="text-xl font-bold mb-4 text-gray-800">
                Effektive Beitragsbelastung nach Einkommensstufen
              </h3>
              <div class="h-64">
                <canvas id="effectiveRateChart"></canvas>
              </div>
            </div>
          </div>

          <!-- Comparison Table -->
          <div class="bg-white p-6 rounded-xl shadow-xl overflow-hidden">
            <h3 class="text-xl font-bold mb-4 text-gray-800">
              Beitragsvergleich nach Einkommensstufen
            </h3>

            <div class="overflow-x-auto">
              <table class="w-full">
                <thead>
                  <tr class="bg-gray-100">
                    <th class="p-3 text-left">Bruttogehalt</th>
                    <th class="p-3 text-center bg-primary-50">Bremen (0,12%)</th>
                    <th class="p-3 text-center bg-secondary-50">Saarland (0,15%)</th>
                    <th class="p-3 text-center bg-accent-50">Differenz</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="p-3 font-medium">‚Ç¨5.000,00</td>
                    <td class="p-3 text-center text-primary-600">‚Ç¨6,00</td>
                    <td class="p-3 text-center text-secondary-600">‚Ç¨7,50</td>
                    <td class="p-3 text-center text-accent-600">+‚Ç¨1,50 SL</td>
                  </tr>
                  <tr class="border-t border-gray-200 bg-gray-50">
                    <td class="p-3 font-medium">‚Ç¨8.050,00</td>
                    <td class="p-3 text-center text-primary-600">‚Ç¨9,66</td>
                    <td class="p-3 text-center text-secondary-600">‚Ç¨12,08</td>
                    <td class="p-3 text-center text-accent-600">+‚Ç¨2,42 SL</td>
                  </tr>
                  <tr class="border-t border-gray-200">
                    <td class="p-3 font-medium bg-yellow-50">‚Ç¨10.000,00</td>
                    <td class="p-3 text-center text-primary-600 bg-yellow-50">‚Ç¨12,00</td>
                    <td class="p-3 text-center text-secondary-600 bg-yellow-50">‚Ç¨12,08</td>
                    <td class="p-3 text-center text-accent-600 bg-yellow-50">+‚Ç¨0,08 SL</td>
                  </tr>
                  <tr class="border-t border-gray-200 bg-gray-50">
                    <td class="p-3 font-medium">‚Ç¨15.000,00</td>
                    <td class="p-3 text-center text-primary-600">‚Ç¨18,00</td>
                    <td class="p-3 text-center text-secondary-600">‚Ç¨12,08</td>
                    <td class="p-3 text-center text-blue-600">-‚Ç¨5,92 HB</td>
                  </tr>
                  <tr class="border-t border-gray-200">
                    <td class="p-3 font-medium">‚Ç¨20.000,00</td>
                    <td class="p-3 text-center text-primary-600">‚Ç¨24,00</td>
                    <td class="p-3 text-center text-secondary-600">‚Ç¨12,08</td>
                    <td class="p-3 text-center text-blue-600">-‚Ç¨11,92 HB</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Explanation Cards -->
          <div class="grid md:grid-cols-2 gap-8 mt-8">
            <div class="bg-gradient-primary text-white p-6 rounded-xl shadow-xl">
              <h3 class="text-xl font-bold mb-3">Bremen: Proportional</h3>
              <p>
                Konstanter Beitragssatz von 0,12% auf das gesamte Gehalt. Die Belastung steigt
                linear mit dem Einkommen.
              </p>
            </div>
            <div class="bg-gradient-secondary text-white p-6 rounded-xl shadow-xl">
              <h3 class="text-xl font-bold mb-3">Saarland: Degressiv</h3>
              <p>
                Effektiver Beitragssatz sinkt bei Einkommen √ºber ‚Ç¨8.050. Bei ‚Ç¨20.000 nur noch 0,06%
                effektive Belastung.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 4: System Analysis -->
    <div
      id="slide-4"
      style="
        display: none;
        min-height: 100vh;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      "
    >
      <div class="max-w-6xl mx-auto w-full">
        <div class="fade-in">
          <h1 class="text-5xl font-black text-center text-gray-800 mb-12">Systemanalyse</h1>

          <div class="overflow-hidden rounded-3xl shadow-xl mb-12">
            <table class="w-full bg-white">
              <thead>
                <tr class="bg-gray-100">
                  <th class="p-4 text-left">Merkmal</th>
                  <th class="p-4 text-center bg-primary-50 text-primary-700">Bremen</th>
                  <th class="p-4 text-center bg-secondary-50 text-secondary-700">Saarland</th>
                </tr>
              </thead>
              <tbody>
                <tr class="border-t border-gray-200">
                  <td class="p-4 font-medium">Gesetzliche Grundlage</td>
                  <td class="p-4 text-center">ArbnKG Bremen</td>
                  <td class="p-4 text-center">AKG Saarland</td>
                </tr>
                <tr class="border-t border-gray-200 bg-gray-50">
                  <td class="p-4 font-medium">Bemessungsgrundlage</td>
                  <td class="p-4 text-center">Steuerpflichtiger Arbeitslohn<br />(LStDV)</td>
                  <td class="p-4 text-center">SV-pflichtiges Bruttoentgelt<br />(SGB IV)</td>
                </tr>
                <tr class="border-t border-gray-200">
                  <td class="p-4 font-medium">Beitragssatz</td>
                  <td class="p-4 text-center font-bold text-primary-600">0,12%</td>
                  <td class="p-4 text-center font-bold text-secondary-600">0,15%</td>
                </tr>
                <tr class="border-t border-gray-200 bg-gray-50">
                  <td class="p-4 font-medium">Beitragsbemessungsgrenze</td>
                  <td class="p-4 text-center">Keine</td>
                  <td class="p-4 text-center">‚Ç¨8.050 (2025)</td>
                </tr>
                <tr class="border-t border-gray-200">
                  <td class="p-4 font-medium">Wirkung</td>
                  <td class="p-4 text-center">Proportional</td>
                  <td class="p-4 text-center">Degressiv</td>
                </tr>
                <tr class="border-t border-gray-200 bg-gray-50">
                  <td class="p-4 font-medium">Erhebungsverfahren</td>
                  <td class="p-4 text-center">Lohnsteuerabzugsverfahren</td>
                  <td class="p-4 text-center">SV-Meldeverfahren</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 5: Flow Diagram -->
    <div
      id="slide-5"
      style="
        display: none;
        min-height: 100vh;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      "
    >
      <div class="max-w-6xl mx-auto w-full">
        <div class="fade-in">
          <h1 class="text-5xl font-black text-center text-gray-800 mb-8">Flussdiagramm</h1>

          <div class="bg-white p-6 rounded-3xl shadow-xl mb-8">
            <div class="flex justify-center">
              <img
                src="images/flow-diagram-spacious.svg"
                alt="Flussdiagramm der Kammerbeitragsberechnung"
                class="max-w-full h-auto"
                style="width: 100%; max-width: 1400px"
              />
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-primary-50 p-6 rounded-xl border-l-4 border-primary-500">
              <h3 class="text-xl font-bold text-primary-700 mb-3">Bremen-Prozess</h3>
              <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li>Einfacher linearer Prozess ohne Deckelung</li>
                <li>Keine Beitragsbemessungsgrenze</li>
                <li>Direkte Berechnung mit festem Prozentsatz (0,12%)</li>
                <li>Keine Rundungsregeln erforderlich</li>
              </ul>
            </div>

            <div class="bg-secondary-50 p-6 rounded-xl border-l-4 border-secondary-500">
              <h3 class="text-xl font-bold text-secondary-700 mb-3">Saarland-Prozess</h3>
              <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li>Komplexerer Prozess mit Deckelungspr√ºfung</li>
                <li>Beitragsbemessungsgrenze bei ‚Ç¨8.050</li>
                <li>Berechnung mit h√∂herem Prozentsatz (0,15%)</li>
                <li>Rundung auf volle Cent erforderlich</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 6: Conclusions -->
    <div
      id="slide-6"
      style="
        display: none;
        min-height: 100vh;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      "
    >
      <div class="max-w-6xl mx-auto w-full">
        <div class="fade-in">
          <h1 class="text-5xl font-black text-center text-gray-800 mb-12">Schlussfolgerungen</h1>

          <div class="grid md:grid-cols-2 gap-8 mb-8">
            <div class="space-y-6">
              <h3 class="text-secondary-600 text-2xl mb-6 font-bold">1. Systemvergleich</h3>
              <div class="space-y-4">
                <div class="bg-white p-4 rounded-xl shadow-md">
                  <strong class="text-primary-700">Bremen:</strong> Proportionales System<br />
                  <small class="text-gray-600">Beitrag steigt linear mit dem Einkommen</small>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-md">
                  <strong class="text-secondary-700">Saarland:</strong> Degressives System<br />
                  <small class="text-gray-600">Beitrag ist bei h√∂heren Einkommen gedeckelt</small>
                </div>
              </div>
            </div>

            <div class="space-y-6">
              <h3 class="text-secondary-600 text-2xl mb-6 font-bold">
                2. Rechtssystematische Anbindung
              </h3>
              <div class="space-y-4">
                <div class="bg-primary-50 p-4 rounded-xl border-l-4 border-primary-500">
                  <strong class="text-primary-700">Bremen:</strong> Steuerrecht (LStDV)<br />
                  <small class="text-gray-600">Integration in Lohnsteuerverfahren</small>
                </div>
                <div class="bg-secondary-50 p-4 rounded-xl border-l-4 border-secondary-500">
                  <strong class="text-secondary-700">Saarland:</strong> Sozialversicherungsrecht
                  (SGB IV)<br />
                  <small class="text-gray-600">Anbindung an SV-Systematik</small>
                </div>
              </div>
            </div>
          </div>

          <div
            class="card bg-gradient-to-br from-primary-600 via-secondary-600 to-accent-600 text-white p-8 rounded-3xl text-center shadow-2xl mb-8"
          >
            <h4 class="text-2xl mb-4 font-bold">Strategische Schlussfolgerung</h4>
            <p class="text-lg leading-relaxed">
              Die Existenz zweier fundamental verschiedener Kammersysteme in Deutschland
              unterstreicht die Notwendigkeit flexibler, rechtssystemspezifischer
              L√∂sungsarchitekturen f√ºr internationale Payroll-Anbieter wie SD WORX.
            </p>
          </div>

          <div class="bg-gray-50 p-6 rounded-xl mt-8">
            <h4 class="text-lg font-bold mb-3">Quellenverzeichnis</h4>
            <ul class="list-disc list-inside space-y-1 text-sm text-gray-600">
              <li>Arbeitnehmerkammergesetz Bremen (ArbnKG)</li>
              <li>Arbeitskammergesetz Saarland (AKG)</li>
              <li>Sozialversicherungs-Rechengr√∂√üenverordnung 2025</li>
              <li>Lohnsteuer-Durchf√ºhrungsverordnung (LStDV)</li>
              <li>Viertes Buch Sozialgesetzbuch (SGB IV)</li>
            </ul>
          </div>

          <div class="text-center text-gray-600 text-sm mt-6">
            ¬© 2025 SD WORX Analyse | Rechtsstand: 2025
          </div>
        </div>
      </div>
    </div>

    <script>
      // Version: 2025-07-28 14:30
      let currentSlide = 0;
      const totalSlides = 7;

      function showSlide(n) {
        console.log('Showing slide:', n);
        document.title = `SD WORX - Slide ${n + 1}/7`;

        // Hide all slides with direct style manipulation
        for (let i = 0; i < totalSlides; i++) {
          const slide = document.getElementById(`slide-${i}`);
          if (slide) {
            slide.style.display = 'none';
            slide.classList.remove('active');
          }
        }

        // Show current slide with direct style manipulation
        const currentSlideElement = document.getElementById(`slide-${n}`);
        if (currentSlideElement) {
          currentSlideElement.style.display = 'flex';
          currentSlideElement.classList.add('active');

          // Scroll to top of slide
          window.scrollTo(0, 0);
        }

        // Update navigation buttons
        updateNavigation();

        // Store current slide in sessionStorage
        try {
          sessionStorage.setItem('currentSlide', n);
          localStorage.setItem('currentSlide', n);
        } catch (e) {
          console.error('Storage error:', e);
        }
      }

      function updateNavigation() {
        const buttons = document.querySelectorAll('.slide-btn');
        buttons.forEach((btn, index) => {
          if (index === currentSlide) {
            btn.classList.remove('bg-gray-300');
            btn.classList.add('bg-primary-600');
          } else {
            btn.classList.remove('bg-primary-600');
            btn.classList.add('bg-gray-300');
          }
        });
      }

      function nextSlide() {
        if (currentSlide < totalSlides - 1) {
          currentSlide++;
          showSlide(currentSlide);
        }
      }

      function prevSlide() {
        if (currentSlide > 0) {
          currentSlide--;
          showSlide(currentSlide);
        }
      }

      function goToSlide(n) {
        currentSlide = n;
        showSlide(currentSlide);
      }

      async function exportPDF() {
        // Show loading indicator
        const loadingEl = document.createElement('div');
        loadingEl.className =
          'fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50';
        loadingEl.innerHTML = `
          <div class="bg-white p-6 rounded-xl shadow-2xl text-center">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"></div>
            <p class="text-lg font-medium">PDF wird erstellt...</p>
            <p class="text-sm text-gray-500 mt-2">Bitte warten Sie, dieser Vorgang kann einige Sekunden dauern.</p>
          </div>
        `;
        document.body.appendChild(loadingEl);

        try {
          // Remember current slide
          const originalSlide = currentSlide;

          // Create a container for all slides
          const pdfContainer = document.createElement('div');
          pdfContainer.id = 'pdf-container';
          pdfContainer.style.position = 'absolute';
          pdfContainer.style.left = '-9999px';
          pdfContainer.style.top = '0';
          document.body.appendChild(pdfContainer);

          // Clone all slides and make them visible
          for (let i = 0; i < totalSlides; i++) {
            const slide = document.getElementById(`slide-${i}`);
            const slideClone = slide.cloneNode(true);
            slideClone.id = `pdf-slide-${i}`;
            slideClone.style.display = 'flex';
            slideClone.style.pageBreakAfter = 'always';
            slideClone.style.height = '100vh';
            slideClone.style.width = '100%';
            pdfContainer.appendChild(slideClone);
          }

          // Remove navigation from PDF
          const navElements = pdfContainer.querySelectorAll('nav');
          navElements.forEach(nav => nav.remove());

          // Configure PDF options
          const opt = {
            margin: [0.5, 0.5, 0.5, 0.5],
            filename: 'SD_WORX_Kammerbeitraege_Bremen_vs_Saarland_2025.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2, useCORS: true, letterRendering: true },
            jsPDF: { unit: 'in', format: 'a4', orientation: 'landscape' },
          };

          // Generate PDF
          await html2pdf().from(pdfContainer).set(opt).save();

          // Clean up
          document.body.removeChild(pdfContainer);

          // Show success message
          loadingEl.innerHTML = `
            <div class="bg-white p-6 rounded-xl shadow-2xl text-center">
              <div class="bg-green-100 p-2 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </div>
              <p class="text-lg font-medium text-green-600">PDF erfolgreich erstellt!</p>
              <p class="text-sm text-gray-500 mt-2">Der Download sollte automatisch starten.</p>
              <button class="mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors" onclick="document.body.removeChild(this.parentNode.parentNode.parentNode)">Schlie√üen</button>
            </div>
          `;

          // Auto-close the success message after 3 seconds
          setTimeout(() => {
            if (document.body.contains(loadingEl)) {
              document.body.removeChild(loadingEl);
            }
          }, 3000);
        } catch (error) {
          console.error('PDF export error:', error);

          // Show error message
          loadingEl.innerHTML = `
            <div class="bg-white p-6 rounded-xl shadow-2xl text-center">
              <div class="bg-red-100 p-2 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </div>
              <p class="text-lg font-medium text-red-600">Fehler beim PDF-Export</p>
              <p class="text-sm text-gray-500 mt-2">Bitte versuchen Sie es erneut oder nutzen Sie die Druckfunktion (Strg+P).</p>
              <button class="mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors" onclick="document.body.removeChild(this.parentNode.parentNode.parentNode)">Schlie√üen</button>
            </div>
          `;
        }
      }

      // Keyboard navigation
      document.addEventListener('keydown', function (e) {
        if (e.key === 'ArrowRight' || e.key === ' ') {
          e.preventDefault();
          nextSlide();
        } else if (e.key === 'ArrowLeft') {
          e.preventDefault();
          prevSlide();
        } else if (e.key === 'Escape') {
          goToSlide(0);
        }
      });

      // Initialize - try to restore from storage
      try {
        const savedSlide =
          sessionStorage.getItem('currentSlide') || localStorage.getItem('currentSlide');
        if (savedSlide !== null) {
          currentSlide = parseInt(savedSlide, 10);
        }
      } catch (e) {
        console.error('Storage error:', e);
      }

      // Chart initialization function
      function initializeCharts() {
        console.log('Initializing charts...');

        // Chart 1: Kammerbeitr√§ge √ºber verschiedene Gehaltsstufen
        const ctx1 = document.getElementById('contributionChart');
        if (ctx1) {
          console.log('Found contributionChart, initializing...');
          new Chart(ctx1, {
            type: 'line',
            data: {
              labels: ['‚Ç¨5.000', '‚Ç¨8.050', '‚Ç¨10.000', '‚Ç¨15.000', '‚Ç¨20.000', '‚Ç¨25.000', '‚Ç¨30.000'],
              datasets: [
                {
                  label: 'Bremen (unbegrenzt)',
                  data: [6, 9.66, 12, 18, 24, 30, 36],
                  borderColor: '#3b82f6',
                  backgroundColor: 'rgba(59, 130, 246, 0.2)',
                  fill: true,
                  tension: 0.4,
                },
                {
                  label: 'Saarland (gedeckelt)',
                  data: [7.5, 12.08, 12.08, 12.08, 12.08, 12.08, 12.08],
                  borderColor: '#0ea5e9',
                  backgroundColor: 'rgba(14, 165, 233, 0.2)',
                  fill: true,
                  tension: 0.4,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                title: {
                  display: false,
                },
              },
              scales: {
                y: {
                  beginAtZero: true,
                  title: {
                    display: true,
                    text: 'Beitrag in ‚Ç¨',
                  },
                },
              },
            },
          });
        } else {
          console.log('contributionChart element not found');
        }

        // Chart 2: Effektive Beitragsbelastung
        const ctx2 = document.getElementById('effectiveRateChart');
        if (ctx2) {
          console.log('Found effectiveRateChart, initializing...');
          new Chart(ctx2, {
            type: 'line',
            data: {
              labels: ['‚Ç¨5.000', '‚Ç¨8.050', '‚Ç¨10.000', '‚Ç¨15.000', '‚Ç¨20.000', '‚Ç¨25.000', '‚Ç¨30.000'],
              datasets: [
                {
                  label: 'Bremen (proportional)',
                  data: [0.12, 0.12, 0.12, 0.12, 0.12, 0.12, 0.12],
                  borderColor: '#3b82f6',
                  backgroundColor: 'rgba(59, 130, 246, 0.2)',
                  fill: false,
                  tension: 0,
                },
                {
                  label: 'Saarland (degressiv)',
                  data: [0.15, 0.15, 0.12, 0.08, 0.06, 0.048, 0.04],
                  borderColor: '#0ea5e9',
                  backgroundColor: 'rgba(14, 165, 233, 0.2)',
                  fill: false,
                  tension: 0,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                title: {
                  display: false,
                },
              },
              scales: {
                y: {
                  beginAtZero: true,
                  title: {
                    display: true,
                    text: 'Effektiver Beitragssatz in %',
                  },
                  ticks: {
                    callback: function (value) {
                      return value.toFixed(2) + '%';
                    },
                  },
                },
              },
            },
          });
        } else {
          console.log('effectiveRateChart element not found');
        }
      }

      // Initialize slide
      window.onload = function () {
        showSlide(currentSlide);

        // Initialize charts with a slight delay to ensure DOM is fully loaded
        setTimeout(initializeCharts, 500);
      };
    </script>
  </body>
</html>
